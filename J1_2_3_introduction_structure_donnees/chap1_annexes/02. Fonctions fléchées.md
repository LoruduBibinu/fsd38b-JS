# Les fonctions fl√©ch√©es en JS

---

Les fonctions fl√©ch√©es (aussi appel√©es des *lambdas*) sont des **raccourcis pour √©crire des `function` en JS**.

JavaScript √©tant un langage encourageant une approche fonctionnelle, les fonctions et expressions de fonctions sont tr√®s fr√©quemment utilis√©es.

Le probl√®me est que la syntaxe des fonctions en JS classique est assez lourde :

```js
peopleArray.filter(function(person) {
    return person !== null;
}).map(function(person) {
    return person.split(' ')[1];
}).map(function(person) {
    return person[0].toUpperCase() + person.slice(1);
});
```

Ici, beaucoup de `function` et de `return` g√™nent la lecture.

Pour p√¢lier √† ce probl√®me, une notation raccourcie a √©t√© standardis√©e : **la notation fl√©ch√©e**.

Elle se note de la forme suivante :

```js
() => {}

// √Ä gauche, les ARGUMENTS. √Ä droite, le CORPS de la fonction.
```

Par exemple, soit la fonction suivante :

```js
const toPrice = function (value, currency) {
    return value + " " + currency;
};
```

En version fl√©ch√©e, il est possible de la r√©√©crire comme ceci :

```js
const toPrice = (value, currency) => value + " " + currency;
```

- Les arguments `value` et `currency` de la fonction sont entre parenth√®ses.
- Le corps de la fonction est derri√®re la fl√®che `=>`

A noter que la fl√®che `=>` exprime implicitement le `return`. On peut donc traduire la fonction par la phrase suivante :

> ```js
> (value, currency) => value + " " + currency;
> ```
> *Prends les arguments `value` et `currency` et renvoie la valeur de cha√Æne `value + " " + currency`*

Cette notation est tr√®s pratique pour se passer de l'√©criture (et la lecture) des mots-cl√©s `function` et `return` dans le cas de petites fonctions devant r√©aliser des **op√©rations simples**.

Pour des fonctions faisant beaucoup de choses, on peut continuer d'√©crire des `function` classiques.

## Subtilit√©s

A noter qu'il est possible d'omettre les parenth√®ses si il n'y a qu'un seul argument :

```js
const double = nb => nb * 2;

double(6); // 12
```

Il faut aussi savoir qu'une fonction fl√©ch√©e **ne peut pas avoir de nom**.

Si on souhaite l'utiliser, il faut la passer en argument de quelque-chose, ou l'assigner √† une constance / variable :

```js
double(nb) => nb * 2; // ‚ùå IMPOSSIBLE ! Ceci est une erreur de Syntaxe!

// ‚úÖ On affecte la valeur de la fonction √† la constante "double"
const double = nb => nb * 2;
```

Il existe aussi d'autres subtilit√©s li√©es aux fonctions fl√©ch√©es comme le comportement du mot-cl√© `this`, qui diff√®re des fonctions classiques, mais nous ne l'aborderons pas ici car trop complexe pour le moment.

Il existe de nombreux articles sur Internet expliquant le **fonctionnement du `this` dans les fonctions fl√©ch√©es en JavaScript**. Une simple recherche Google avec ces termes vous permettra d'en savoir plus si cela vous int√©resse üôÇ

## Conclusion

Gr√¢ce √† cette notation simplifi√©e, il est beaucoup plus ais√© d'√©crire et de lire un code fonctionnel :

```js
peopleArray
  .filter(person => person !== null)
  .map(person => person.split(' ')[1])
  .map(person => person[0].toUpperCase() + person.slice(1));
```

Cela am√©liore grandement la lisibilit√© du code source et se concentrer sur l'essentiel (plut√¥t que sur de la syntaxe).

Les fonctions fl√©ch√©es ne remplacent pas les fonctions classiques, qui conservent leurs avantages (ex: nommables).

---

# Annexes :

Documentation MDN sur les fonctions fl√©ch√©es : https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Fonctions/Fonctions_fl%C3%A9ch%C3%A9es